<div id="tool-bar" class="tool-bar">
    <div class="tool-bar-left btn-group">
        <d-button id="undo" *ngIf="hasUndo" dTooltip bsStyle="text-dark" [content]="'toolBar.backButton' | translate"
            [disabled]="!hasUndo" (click)="handleUndoButtonClick($event)">
            <img src={{backSvg}} />
        </d-button>
        <d-button id="undo" *ngIf="!hasUndo" dTooltip bsStyle="text-dark" [content]="'toolBar.backButton' | translate"
            [disabled]="!hasUndo" (click)="handleUndoButtonClick($event)">
            <img src={{backDisabledSvg}} />
        </d-button>
        <d-button id="redo" *ngIf="hasRedo" dTooltip bsStyle="text-dark" [content]="'toolBar.redoButton' | translate"
            [disabled]="!hasRedo" (click)="handleRedoButtonClick($event)">
            <img src={{redoSvg}} />
        </d-button>
        <d-button id="redo" *ngIf="!hasRedo" dTooltip bsStyle="text-dark" [content]="'toolBar.redoButton' | translate"
            [disabled]="!hasRedo" (click)="handleRedoButtonClick($event)">
            <img src={{redoDisabledSvg}} />
        </d-button>
        <d-button id="zoom-in" dTooltip bsStyle="text-dark" [content]="'toolBar.zoomInButton' | translate"
            (click)="handleZoomInButtonClick($event)">
            <img src={{zoomInSvg}} />
        </d-button>
        <d-button id="zoom-out" dTooltip bsStyle="text-dark" [content]="'toolBar.zoomOutButton' | translate"
            (click)="handleZoomOutButtonClick($event)">
            <img src={{zoomOutSvg}} />
        </d-button>
        <d-button id="zoom-reset" dTooltip bsStyle="text-dark" [content]="'toolBar.zoomResetButton' | translate"
            (click)="handleZoomResetButtonClick($event)">
            <img src={{zoomResetSvg}} />
        </d-button>
        <d-button id="zoom-fit" dTooltip bsStyle="text-dark" [content]="'toolBar.zoomFitButton' | translate"
            (click)="handleZoomFitButtonClick($event)">
            <img src={{zoomFitSvg}} />
        </d-button>
        <d-button id="switch" dTooltip bsStyle="text-dark" [content]="'toolBar.switchButton' | translate"
            (click)="handleSwitchDirectionButtonClick($event)">
            <img src={{switchSvg}} />
        </d-button>
        <d-button id="run" dTooltip bsStyle="text-dark" [content]="'toolBar.runGraphButton' | translate"
            (click)="handleRunButtonClick($event)" [disabled]="!formData.graphName">
            <img src={{runGraphSvg}} />
        </d-button>
    </div>

    <div class="tool-bar-right">
        <div class="btn-group" style="display:inline-block" dDropDown [trigger]="'hover'" appendToBody
            [alignOrigin]="projectRef" [appendToBodyDirections]="['centerDown', 'centerUp']">
            <span dDropDownToggle>
                <button class="tool-bar-button">
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    {{'toolBar.project' | translate}}
                    &nbsp;&nbsp;&nbsp;&nbsp;
                </button>
            </span>
            <ul dDropDownMenu class="devui-dropdown-menu devui-scrollbar" role="menu" style="z-index:100">
                <li role="menuitem">
                    <a class="devui-dropdown-item" id="createProject" (click)="showCreateProjectDialog(createProject)">
                        {{'toolBar.newButton' | translate}}
                    </a>
                </li>
                <li role="menuitem">
                    <a class="devui-dropdown-item" id="openProject" (click)="showOpenProjectButtonDialog(openProject)">
                        {{'toolBar.openProjectButton' | translate}}
                    </a>
                </li>
                <li role="menuitem">
                    <a class="devui-dropdown-item" id="save-as" (click)="saveAllProject()">
                        {{'toolBar.saveAsButton' | translate}}
                    </a>
                </li>
            </ul>
        </div>

        <div class="btn-group" style="display:inline-block" dDropDown [trigger]="'hover'" appendToBody
            [alignOrigin]="flowunitRef" [appendToBodyDirections]="['centerDown', 'centerUp']">
            <span dDropDownToggle>
                <button class="tool-bar-button">
                    {{'toolBar.flowunit' | translate}}
                </button>
            </span>
            <ul dDropDownMenu class="devui-dropdown-menu devui-scrollbar" role="menu">
                <li role="menuitem">
                    <a class="devui-dropdown-item" id="new" (click)="showCreateFlowunitDialog(createFlowunit)">
                        {{'toolBar.newFlowunitButton' | translate}}
                    </a>
                </li>
                <li role="menuitem">
                    <a class="devui-dropdown-item" id="refresh" (click)="refreshFlowunit()">
                        {{'toolBar.refreshFlowunitButton' | translate}}
                    </a>
                </li>
            </ul>
        </div>

        <!-- <div class="btn-group" style="display:inline-block" dDropDown [trigger]="'hover'" appendToBody
            [alignOrigin]="graphRef" [appendToBodyDirections]="['centerDown', 'centerUp']">
            <span dDropDownToggle>
                <button class="tool-bar-button">
                    &nbsp;&nbsp;
                    {{'toolBar.graph' | translate}}
                    &nbsp;&nbsp;
                </button>
            </span>
            <ul dDropDownMenu class="devui-dropdown-menu devui-scrollbar" role="menu"> -->
        <!-- <li role="menuitem">
                    <a class="devui-dropdown-item" id="new-graph" (click)="handleNewButtonClick($event)">
                        {{'toolBar.newGraphButton' | translate}}
                    </a>
                </li> -->
        <!-- <li role="menuitem">
                    <a class="devui-dropdown-item" id="save-as" (click)="showSaveAsDialog()">
                        {{'toolBar.saveGraphButton' | translate}}
                    </a>
                </li> -->
        <!-- <li role="menuitem">
                    <a class="devui-dropdown-item" id="open-graph-setting"
                        (click)="showGraphSettingDialog(graphSetting)">
                        {{'toolBar.graphSettingButton' | translate}}
                    </a>
                </li> -->
        <!-- <li role="menuitem">
                    <a class="devui-dropdown-item" id="open-select" (click)="showSelectDialog(graphSelect)">
                        {{'toolBar.selectDialogButton' | translate}}
                    </a>
                </li> -->
        <!-- </ul> 
        </div>-->
        <button id="open-graph-setting" (click)="showGraphSettingDialog(graphSetting)" class="tool-bar-button">
            {{'toolBar.graphSettingButton' | translate}}
        </button>
        <!-- <button id="open-solution" (click)="showSolutionDialog(solutionSelect)" class="tool-bar-button">
            {{'toolBar.solutionDialogButton' | translate}}
        </button> -->
    </div>

    <div class="tool-bar-mid">
        <span style="font-size:28px; font-weight:500;" dPopover bsStyle="common" [content]="titleTemplate"
            [position]="'left'" [controlled]="true" [popoverStyle]="{ backgroundColor: 'white', color: 'black' }">

            {{formDataCreateProject.projectName}}
        </span>

        <span style="margin-left:30px;">
            {{'toolBar.nameLabel' | translate}}
        </span>

        <span>
            {{formData.graphName}}
        </span>
    </div>
</div>
<ng-template #titleTemplate>
    <h1>{{formDataCreateProject.projectName}}</h1>
    <h4>路径：{{formDataCreateProject.path}}</h4>
    <h4>{{formDataCreateProject.projectDesc}}</h4>
</ng-template>
<ng-template #createProject id="createProject">
    <d-layout class="basic-usage">
        <form dForm [layout]="layoutDirection" ngForm style="margin:10px">
            <d-form-item>
                <d-form-label [required]="true">
                    {{'toolBar.projectName' | translate}}
                </d-form-label>
                <d-form-control>
                    <div>
                        <input dTextInput name="projectName" [(ngModel)]="formDataCreateProject.projectName" />
                    </div>
                </d-form-control>
            </d-form-item>
            <d-form-item>
                <d-form-label [required]="true">
                    {{'toolBar.modal.projectPath' | translate}}
                </d-form-label>
                <d-form-control>
                    <input dTextInput name="path" [(ngModel)]="formDataCreateProject.path" />
                </d-form-control>
            </d-form-item>
            <d-form-item>
                <d-form-label [required]="true">
                    {{'toolBar.modal.model' | translate}}
                </d-form-label>
                <d-form-control>
                    <d-select [appendToBody]=" true" [ngModelOptions]="{ standalone: true }"
                        [appendToBodyDirections]=" ['centerDown', 'centerUp' ]" [(ngModel)]="model"
                        [placeholder]="'toolBar.modal.model' | translate" [options]="optionSolutionList">
                    </d-select>
                </d-form-control>
            </d-form-item>
            <d-form-item *ngIf="false">
                <d-form-label>
                    {{'toolBar.setting.desc' | translate}}
                </d-form-label>
                <d-form-control>
                    <textarea dTextarea name="desc" [(ngModel)]="formDataCreateProject.projectDesc"></textarea>
                </d-form-control>
            </d-form-item>
        </form>
    </d-layout>
</ng-template>

<ng-template #openProject id="openProject">
    <d-layout class="basic-usage">
        <form dForm [layout]="layoutDirection" ngForm style="margin:10px">
            <d-form-item>
                <d-form-label [required]="true">
                    {{'toolBar.modal.projectPath' | translate}}
                </d-form-label>
                <d-form-control>
                    <div style="display: flex; justify-content:center">
                        <div class="devui-form-group" style="width:80%">
                            <input dTextInput type="text" class="devui-form-control devui-dropdown-origin"
                                name="language" placeholder="Search" [minLength]="0" [(ngModel)]="openProjectPath"
                                dAutoComplete [source]="openProjectList" />
                        </div>
                        <d-button style="margin-left:30px;" icon="icon-search" bsStyle="primary"
                            (click)="searchDirectory()"></d-button>
                    </div>
                </d-form-control>
            </d-form-item>
            <d-form-item>
                <d-form-control>
                    <d-data-table [dataSource]="folderList" [scrollable]="true" [type]="'striped'"
                        [borderType]="'borderless'" (cellClick)="cellClick($event)">
                        <d-column field="folder" [header]="'toolBar.modal.folder' | translate" style="cursor:pointer">
                        </d-column>
                    </d-data-table>

                </d-form-control>
            </d-form-item>
        </form>
    </d-layout>
</ng-template>

<ng-template #createFlowunit id="createFlowunit">

    <d-layout class="basic-usage">
        <form dForm [layout]="layoutDirection" ngForm style="margin:10px">
            <d-form-item>
                <d-form-label [required]="true">
                    {{'toolBar.modal.unitType' | translate}}
                </d-form-label>
                <d-form-control>
                    <d-radio-group [direction]="'row'" [(ngModel)]="formDataCreateFlowunit.programLanguage"
                        (change)="programLanguageValueChange2($event)" [direction]="'row'"
                        [ngModelOptions]="{ standalone: true }">
                        <d-radio [name]="'programLanguage2'" *ngFor="let value of valuesProgramLanguage"
                            [value]="value.value">
                            {{ value.name }}
                        </d-radio>
                    </d-radio-group>
                </d-form-control>
            </d-form-item>

            <d-form-item>
                <d-form-label [required]="true">
                    {{'toolBar.modal.flowunitName' | translate}}
                </d-form-label>
                <d-form-control>
                    <div>
                        <input dTextInput name="flowunitName" [(ngModel)]="formDataCreateFlowunit.flowunitName" />
                    </div>
                </d-form-control>
            </d-form-item>
            <d-form-item>
                <d-form-label [required]="true">
                    {{'toolBar.modal.flowunitPath' | translate}}
                </d-form-label>
                <d-form-control>
                    <input dTextInput name="path" [(ngModel)]="formDataCreateFlowunit.path" [disabled]="true" />
                </d-form-control>
            </d-form-item>

            <d-form-item>
                <d-form-label [required]="true">
                    {{'toolBar.modal.deviceType' | translate}}
                </d-form-label>
                <d-form-control>
                    <d-select [appendToBody]="true" [ngModelOptions]="{ standalone: true }"
                        [appendToBodyDirections]=" ['centerDown', 'centerUp' ]"
                        [(ngModel)]="formDataCreateFlowunit.deviceType" (valueChange)="deviceTypeValueChange($event)"
                        [placeholder]="'toolBar.modal.deviceType' | translate" [options]="optionsDeviceType">
                    </d-select>
                </d-form-control>
            </d-form-item>

            <d-form-item *ngIf="formDataCreateFlowunit.programLanguage === 'inference'">
                <d-form-label [required]="true">
                    {{'modelEntry' | translate}}
                </d-form-label>
                <d-form-control>
                    <input dTextInput name="modelEntry" placeholder="model.pb"
                        [(ngModel)]="formDataCreateFlowunit.modelEntry" />
                </d-form-control>
            </d-form-item>

            <d-form-item style="margin-bottom: 0 !important;">
                <d-form-label></d-form-label>
                <d-form-control>
                    <div style="display:flex; justify-content:space-between">
                        <div style="width:80px; text-align:center">
                            {{'toolBar.modal.portName' | translate}}
                        </div>
                        <div style="width:100px; text-align:center">
                            {{'toolBar.modal.inputOutput' | translate}}
                        </div>
                        <div style="width:100px; text-align:center">
                            {{'toolBar.modal.dataType' | translate}}
                        </div>
                        <div style="width:80px; text-align:center">
                            {{'toolBar.modal.deviceType' | translate}}
                        </div>
                        <div style="width:40px; text-align:center">
                            {{'toolBar.modal.deviceNum' | translate}}
                        </div>
                        <div style="width:100px; text-align:center">

                        </div>
                    </div>
                </d-form-control>
            </d-form-item>

            <d-form-item>
                <d-form-label [required]="true">
                    {{'toolBar.modal.portOption' | translate}}
                </d-form-label>
                <d-form-control>
                    <div style="display:flex; justify-content:space-between">
                        <div style="width:80px">
                            <input type="text" id="name" name="name" required [(ngModel)]="portInfo.portName"
                                placeholder="port name">
                        </div>
                        <div style="width:100px">
                            <d-select [appendToBody]=" true" [ngModelOptions]="{ standalone: true }"
                                [appendToBodyDirections]=" ['centerDown', 'centerUp' ]" [(ngModel)]="portInfo.portType"
                                [placeholder]="'toolBar.modal.inputOutput' | translate" [options]="optionsInOut"
                                (valueChange)="handleValueChangePortType($event)">
                            </d-select>
                        </div>

                        <div style="width:100px">
                            <d-select [appendToBody]="true" [appendToBodyDirections]="['centerDown', 'centerUp']"
                                [(ngModel)]="portInfo.dataType" [ngModelOptions]="{ standalone: true }"
                                [filterKey]="'id'" [placeholder]="'toolBar.modal.dataType' | translate"
                                [options]="optionsDataType" [isSearch]="true">
                                <ng-template let-option="option">
                                    {{ option }}
                                </ng-template>
                            </d-select>
                        </div>

                        <div style="width:80px">
                            <d-select [appendToBody]="true" [appendToBodyDirections]="['centerDown', 'centerUp']"
                                [disabled]="portDeviceTypeAble" [(ngModel)]="portInfo.deviceType"
                                [ngModelOptions]="{ standalone: true }"
                                [placeholder]="'toolBar.modal.deviceType' | translate" [options]="optionsDeviceType">
                            </d-select>
                        </div>

                        <div style="width:40px">
                            <d-input-number style="width:40px" [placeholder]="'toolBar.modal.deviceNum' | translate"
                                [ngModelOptions]="{ standalone: true }" [(ngModel)]="portInfo.deviceNum"
                                class="input-number"></d-input-number>
                        </div>

                        <button class="tool-bar-button" (click)="handleAddPortInfoClick()">
                            &nbsp;&nbsp;&nbsp;&nbsp;
                            {{'toolBar.modal.add' | translate}}
                            &nbsp;&nbsp;&nbsp;&nbsp;
                        </button>
                    </div>
                </d-form-control>
            </d-form-item>

            <d-form-item>
                <d-form-control>
                    <d-data-table [dataSource]="formDataCreateFlowunit.portInfos" [scrollable]="true" maxHeight="200px"
                        [borderType]="'bordered'">
                        <thead dTableHead>
                            <tr dTableRow>
                                <th dHeadCell>
                                    {{'toolBar.modal.portName' | translate}}
                                </th>
                                <th dHeadCell *ngFor="let colOption of portHeaderOptions.columns">
                                    {{ colOption.header }}
                                </th>
                            </tr>
                        </thead>
                        <tbody dTableBody>
                            <ng-template let-rowItem="rowItem" let-rowIndex="rowIndex">
                                <tr dTableRow>
                                    <td dTableCell>
                                        {{rowItem.portName}}
                                    </td>
                                    <td dTableCell>
                                        {{rowItem.portType}}
                                    </td>
                                    <td dTableCell>
                                        {{rowItem.dataType}}
                                    </td>
                                    <td dTableCell>
                                        {{rowItem.deviceType}}
                                    </td>
                                    <td dTableCell>
                                        {{rowItem.deviceNum}}
                                    </td>
                                    <td dTableCell>
                                        <a class="delete-button" (click)="deletePort(rowItem, rowIndex)">
                                            {{'toolBar.deleteDialogButton' | translate}}
                                        </a>
                                    </td>
                                </tr>
                            </ng-template>
                        </tbody>
                    </d-data-table>
                </d-form-control>
            </d-form-item>

            <d-form-item *ngIf="formDataCreateFlowunit.programLanguage !== 'inference'">
                <d-form-label [required]="true">
                    {{'toolBar.modal.flowUnitType' | translate}}
                </d-form-label>
                <d-form-control style="height:32px;">
                    <div style="display: inline-block;">
                        <d-tabs [(activeTab)]="formDataCreateFlowunit.flowunitType" type="slider">
                            <d-tab *ngFor="let item of flowunitTypes" [id]="item.id">
                                <ng-template dTabTitle>
                                    {{ item.title }}
                                </ng-template>
                            </d-tab>
                        </d-tabs>
                    </div>
                    <div style="margin-left: 50px;display: inline-block;">
                        <d-checkbox-group [(ngModel)]="valuesCheckbox" [name]="'type'" [options]="flowunitTypes2"
                            [direction]="'row'" [isShowTitle]="true" (change)="onCheckbox2Change($event)">
                        </d-checkbox-group>
                    </div>
                </d-form-control>

            </d-form-item>

            <d-form-item *ngIf="formDataCreateFlowunit.programLanguage === 'inference'">
                <d-form-label [required]="true">
                    {{'virtualType' | translate}}
                </d-form-label>
                <d-form-control style="height:32px">
                    <d-tabs [(activeTab)]="formDataCreateFlowunit.flowunitVirtualType" type="slider">
                        <d-tab *ngFor="let item of flowunitVirtualTypes" [id]="item.id">
                            <ng-template dTabTitle>
                                {{ item.title }}
                            </ng-template>
                        </d-tab>
                    </d-tabs>
                </d-form-control>
            </d-form-item>

            <d-form-item *ngIf="formDataCreateFlowunit.programLanguage === 'c++'">
                <d-form-label [required]="true">
                    {{'toolBar.modal.flowUnitGroup' | translate}}
                </d-form-label>
                <d-form-control>
                    <d-select [options]="flowunitGroupOptions" [customViewTemplate]="addCustomeGroup"
                        [(ngModel)]="formDataCreateFlowunit.title" [ngModelOptions]="{standalone: true}">
                    </d-select>
                </d-form-control>
            </d-form-item>

            <d-form-item *ngIf="formDataCreateFlowunit.programLanguage === 'inference'">
                <d-form-label>
                    {{'enginePlugin' | translate}}
                </d-form-label>
                <d-form-control>
                    <input dTextInput name="plugin" placeholder="plugin.so"
                        [(ngModel)]="formDataCreateFlowunit.plugin" />
                </d-form-control>
            </d-form-item>

            <d-form-item>
                <d-form-label>
                    {{'toolBar.setting.desc' | translate}}
                </d-form-label>
                <d-form-control>
                    <textarea dTextarea name=" desc" [(ngModel)]="formDataCreateFlowunit.desc"
                        [ngModelOptions]="{standalone: true}"></textarea>
                </d-form-control>
            </d-form-item>
        </form>
    </d-layout>
</ng-template>

<ng-template #addCustomeGroup let-selectComponent>
    <div>

    </div>
</ng-template>

<ng-template #graphSetting id=" graphSetting">
    <d-layout class="basic-usage">
        <d-tabs [(activeTab)]="tabActiveId" type="slider" customWidth="100px">
            <d-tab id="tab1">
                <ng-template dTabTitle>
                    {{'toolBar.setting.basic'| translate}}
                </ng-template>
                <ng-template dTabContent>
                    <form dForm [layout]="layoutDirection" ngForm style="margin:10px">
                        <d-form-item>
                            <d-form-label [required]="true">{{'toolBar.setting.name' | translate}}
                            </d-form-label>
                            <d-form-control>
                                <div>
                                    <input type="text" [value]="formData.graphName"
                                        (input)="formData.graphName=$event.target?.value">
                                </div>
                            </d-form-control>
                        </d-form-item>
                        <d-form-item>
                            <d-form-label>{{'toolBar.setting.desc' | translate}}</d-form-label>
                            <d-form-control>
                                <textarea dTextarea name="desc" [(ngModel)]="formData.graphDesc"></textarea>
                            </d-form-control>
                        </d-form-item>
                        <d-form-item>
                            <d-form-label>{{'toolBar.setting.skipDefault' | translate}}
                            </d-form-label>
                            <d-form-control>
                                <d-checkbox [(ngModel)]="formData.skipDefault" name="skipDefault"
                                    (change)="onCheckboxSkipDefaultChange($event)"> </d-checkbox>
                            </d-form-control>
                        </d-form-item>
                        <d-form-item>
                            <d-form-label>{{'toolBar.setting.dir' | translate}}</d-form-label>
                            <d-form-control>
                                <textarea dTextarea name="dir" [(ngModel)]="formData.flowunitPath"></textarea>
                            </d-form-control>
                        </d-form-item>
                    </form>
                </ng-template>
            </d-tab>

            <d-tab id="tab2">
                <ng-template dTabTitle>
                    {{'toolBar.setting.perf'| translate}}
                </ng-template>
                <ng-template dTabContent>
                    <form dForm [layout]="layoutDirection" ngForm>
                        <d-form-item>
                            <d-form-label>{{'toolBar.setting.perf.enable' | translate}}
                            </d-form-label>
                            <d-form-control>
                                <d-checkbox [(ngModel)]="formData.perfEnable" name="perfEnable"
                                    (change)="onCheckboxPerfEnableChange($event)"> </d-checkbox>
                            </d-form-control>
                        </d-form-item>
                        <d-form-item>
                            <d-form-label>{{'toolBar.setting.perf.trace.enable' | translate}}
                            </d-form-label>
                            <d-form-control>
                                <d-checkbox [(ngModel)]="formData.perfTraceEnable" name="perfTraceEnable"
                                    (change)="onCheckboxPerfTraceEnableChange($event)">
                                </d-checkbox>
                            </d-form-control>
                        </d-form-item>
                        <d-form-item>
                            <d-form-label>{{'toolBar.setting.perf.session.enable' | translate}}
                            </d-form-label>
                            <d-form-control>
                                <d-checkbox [(ngModel)]="formData.perfSessionEnable" name="perfSessionEnable"
                                    (change)="onCheckboxPerfSessionEnableChange($event)">
                                </d-checkbox>
                            </d-form-control>
                        </d-form-item>
                        <d-form-item>
                            <d-form-label>{{'toolBar.setting.perf.path' | translate}}</d-form-label>
                            <d-form-control>
                                <div>
                                    <input dTextInput autocomplete="off" name="userName"
                                        [(ngModel)]="formData.perfPath" />
                                </div>
                            </d-form-control>
                        </d-form-item>
                    </form>
                </ng-template>
            </d-tab>
        </d-tabs>
    </d-layout>
</ng-template>

<ng-template #graphSelect let-context='context'>
    <d-content>
        <d-data-table [fixHeader]="true" [containFixHeaderHeight]="true" [scrollable]="true" [headerBg]="true"
            [colDraggable]="true" [dataSource]="graphSelectTableDataForDisplay" tableHeight="360px"
            [tableWidthConfig]="tableWidthConfig">
            <thead dTableHead>
                <tr dTableRow>
                    <th dHeadCell *ngFor="let colOption of dataTableOptions.columns">{{ colOption.header }}</th>
                </tr>
            </thead>
            <tbody dTableBody>
                <ng-template let-rowItem="rowItem" let-rowIndex="rowIndex" let-nestedIndex="nestedIndex">
                    <tr dTableRow [ngClass]="{ 'table-row-selected': rowItem.$checked }">
                        <td dTableCell *ngFor="let colOption of dataTableOptions.columns">
                            <d-checkbox *ngIf="colOption.field === 'checked'" [ngModelOptions]="{ standalone: true }"
                                (ngModelChange)="onRowCheckChange($event, rowIndex, nestedIndex, rowItem)"
                                [ngModel]="rowItem.checked">
                            </d-checkbox>
                            <div *ngIf="colOption.field === 'name'" class="edit-padding-fix">
                                {{ rowItem[colOption.field] }}
                            </div>
                            <div *ngIf="colOption.field === 'dotSrc'">
                                <div [ngbTooltip]="tipContent" #t1="ngbTooltip"
                                    (mouseenter)="toggleTip(t1, graphSelectTableData[rowIndex].dotSrc)"
                                    placement="bottom" tooltipClass="my-custom-class-wide">
                                    {{ rowItem[colOption.field] }}
                                </div>
                            </div>
                            <div *ngIf="colOption.field === 'lastChanged'" class="edit-padding-fix">
                                {{ rowItem[colOption.field] | date: 'yyyy-MM-dd HH:mm:ss'}}
                            </div>
                            <div *ngIf="colOption.field === 'select_operation'" class="edit-padding-fix">
                                <a class="delete-button" (click)="deleteData(rowItem, rowIndex)">
                                    {{'toolBar.deleteDialogButton' | translate}}
                                </a>
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </tbody>
        </d-data-table>
    </d-content>
</ng-template>


<ng-template #tipContent let-context="context">
    <div class="tips-block-top"
        style="background-color: #333854; font-size: 75%; margin: 20px; padding: 8px; width: 600px;">
        {{context}}
    </div>
</ng-template>

<ng-template #solutionSelect let-context='context'>
    <d-content>
        <d-data-table [fixHeader]="true" [containFixHeaderHeight]="true" [scrollable]="true" [headerBg]="true"
            [colDraggable]="true" [dataSource]="solutionList" tableHeight="360px"
            [tableWidthConfig]="solutionTableWidthConfig">
            <thead dTableHead>
                <tr dTableRow>
                    <th dHeadCell *ngFor="let colOption of solutionTableOptions.columns">{{ colOption.header }}</th>
                </tr>
            </thead>
            <tbody dTableBody>
                <ng-template let-rowItem="rowItem" let-rowIndex="rowIndex" let-nestedIndex="nestedIndex">
                    <tr dTableRow [ngClass]="{ 'table-row-selected': rowItem.$checked }">
                        <td dTableCell *ngFor="let colOption of solutionTableOptions.columns">
                            <d-checkbox *ngIf="colOption.field === 'checked'" [ngModelOptions]="{ standalone: true }"
                                (ngModelChange)="onSolutionRowCheckChange($event, rowItem)" [ngModel]="rowItem.checked">
                            </d-checkbox>
                            <div *ngIf="colOption.field === 'name'" class="edit-padding-fix">
                                {{ rowItem[colOption.field] }}
                            </div>
                            <div *ngIf="colOption.field === 'desc'" class="edit-padding-fix">
                                {{ rowItem[colOption.field] }}
                            </div>
                            <div *ngIf="colOption.field === 'file'" class="edit-padding-fix">
                                {{ rowItem[colOption.field] }}
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </tbody>
        </d-data-table>
    </d-content>
</ng-template>